{"ast":null,"code":"var _jsxFileName = \"/usr/app/client/src/pages/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport { addTask, selectTasks } from '../redux/slices/tasksSlice';\nimport '../style/Home.css';\nimport Task from '../components/Task';\nimport axios from 'axios';\nimport { selectToken } from '../redux/slices/userSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Home() {\n  _s();\n\n  const dispatch = useDispatch();\n  const [userName, setUserName] = useState('');\n  const [currTask, setCurrTask] = useState('');\n  const [taskId, setTaskId] = useState(1);\n  const [renderTasks, setRenderTasks] = useState(false);\n  const tasks = useSelector(selectTasks);\n  const {\n    token\n  } = useSelector(selectToken);\n\n  const handleChange = event => {\n    setCurrTask(event.target.value);\n  };\n\n  const handleAddTask = async () => {\n    await axios.post('http://localhost:3001/task', {\n      content: currTask\n    }, {\n      headers: {\n        'Authorization': token\n      }\n    }).then(response => {\n      if (response.status === 201) {\n        setRenderTasks(false);\n        setTaskId(taskId + 1);\n        dispatch(addTask({\n          id: taskId,\n          subject: currTask\n        }));\n      }\n    });\n  };\n\n  useEffect(() => {\n    setRenderTasks(true);\n  }, [taskId]);\n  useEffect(() => {\n    return async () => await axios.get('http://localhost:3001/user/username', {}, {\n      headers: {\n        'Authorization': token\n      }\n    }).then(response => {\n      if (response.status === 200) {\n        console.log(response.data);\n        setUserName(response.data);\n      }\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      userName: userName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"app_main\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"addTask_section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"main_h2\",\n          children: \"New Task\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          className: \"addTask_input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleAddTask(),\n          className: \"task_button\",\n          disabled: currTask === '',\n          children: \"Add task\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n        className: \"tasks_ol\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"tasksHeader_li\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              borderRight: '1px solid black',\n              width: '50%'\n            },\n            children: \"Task\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              borderLeft: '1px solid black',\n              width: '50%'\n            },\n            children: \"Status/Options\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), renderTasks && tasks.map((task, i) => {\n          return /*#__PURE__*/_jsxDEV(Task, {\n            taskId: task.id,\n            task: task\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 20\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Home, \"SalBNZDbDFp5pMJ5auv283RXA/Y=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","Header","Footer","addTask","selectTasks","Task","axios","selectToken","Home","dispatch","userName","setUserName","currTask","setCurrTask","taskId","setTaskId","renderTasks","setRenderTasks","tasks","token","handleChange","event","target","value","handleAddTask","post","content","headers","then","response","status","id","subject","get","console","log","data","borderRight","width","borderLeft","map","task","i"],"sources":["/usr/app/client/src/pages/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport { addTask, selectTasks } from '../redux/slices/tasksSlice';\nimport '../style/Home.css';\nimport Task from '../components/Task';\nimport axios from 'axios';\nimport { selectToken } from '../redux/slices/userSlice';\n\nfunction Home() {\n  const dispatch = useDispatch();\n  const [userName, setUserName] = useState('');\n  const [currTask, setCurrTask] = useState('');\n  const [taskId, setTaskId] = useState(1);\n  const [renderTasks, setRenderTasks] = useState(false);\n  const tasks = useSelector(selectTasks);\n  const { token } = useSelector(selectToken);\n\n  const handleChange = (event) => {\n    setCurrTask(event.target.value);\n  };\n\n  const handleAddTask = async () => {\n    await axios.post('http://localhost:3001/task', {\n      content: currTask\n    }, {\n      headers: { 'Authorization': token }\n    }).then((response) => {\n      if (response.status === 201) {\n        setRenderTasks(false);\n        setTaskId(taskId + 1);\n        dispatch(addTask({ id: taskId, subject: currTask }));\n      }\n    });\n  };\n\n  useEffect(() => {\n    setRenderTasks(true);\n  }, [taskId]);\n\n  useEffect(() => {\n    return async () => await axios.get('http://localhost:3001/user/username', {}, {\n      headers: { 'Authorization': token }\n    }).then((response) => {\n      if (response.status === 200) {\n        console.log(response.data);\n        setUserName(response.data);\n      }\n    });\n  }, []);\n\n  return (\n    <>\n      <Header userName={userName} />\n      <main className='app_main'>\n        <section className=\"addTask_section\">\n          <h2 className=\"main_h2\">New Task</h2>\n          <input onChange={handleChange} className='addTask_input' />\n          <button\n            onClick={() => handleAddTask()}\n            className='task_button'\n            disabled={currTask === ''}\n          >Add task</button>\n        </section>\n        <ol className='tasks_ol'>\n          <li className='tasksHeader_li'>\n            <p style={{ borderRight: '1px solid black', width: '50%' }}>Task</p>\n            <p style={{ borderLeft: '1px solid black', width: '50%' }}>Status/Options</p>\n          </li>\n          {renderTasks && tasks.map((task, i) => {\n            return <Task key={i} taskId={task.id} task={task} />;\n          })}\n        </ol>\n      </main>\n      <Footer />\n    </>\n  );\n}\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}